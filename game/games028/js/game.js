!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s extends Phaser.Scene{constructor(){super("boot")}preload(){this.load.image("loading","../Mark/preloader.gif"),this.load.image("dauchung","../Mark/dauchung.png"),this.load.spritesheet("fish","./assets/fish.png",{frameWidth:60,frameHeight:40})}create(){this.scene.start("load")}}class a extends Phaser.Scene{constructor(){super("load")}setPreloadSprite(t){this.preloadSprite={sprite:t,width:t.width,height:t.height},this.load.on("progress",this.onProgress,this);var e=this.loadingbar.width*this.loadingbar.scaleX;this.walk=this.add.sprite(0,game.config.height/2+160,"fish").setScale(1.2),this.startX=this.loadingbar.x-e/2,this.walk.x=this.startX,this.anims.create({key:"walking",frames:this.anims.generateFrameNumbers("fish",{start:0,end:2}),frameRate:8,repeat:-1}),this.walk.play("walking")}onProgress(t){if(this.preloadSprite){let e=Math.floor(this.preloadSprite.width*t);this.preloadSprite.sprite.frame.width=e<=0?1:e,this.preloadSprite.sprite.frame.cutWidth=e,this.walk.x=this.startX+.95*e,this.preloadSprite.sprite.frame.updateUVs()}}preload(){this.add.sprite(game.config.width/2,.4*game.config.height,"dauchung"),this.loadingbar=this.add.sprite(game.config.width/2,.65*game.config.height,"loading"),this.setPreloadSprite(this.loadingbar),this.load.image("press","../Mark/press.png"),this.load.image("cover","../Mark/cover01.png"),this.load.spritesheet("stamp","../Mark/stamp.png",{frameWidth:150,frameHeight:150}),this.load.spritesheet("waiting","../Mark/waiting.png",{frameWidth:200,frameHeight:200}),this.load.spritesheet("saving","../Mark/saving.png",{frameWidth:300,frameHeight:300}),this.load.image("logo","./assets/logo.png"),this.load.image("background","./assets/background.jpg"),this.load.image("bg_water","./assets/bg_water.png"),this.load.image("skip","./assets/skip.png"),this.load.image("story1","./assets/story1.png"),this.load.image("story2-1","./assets/story2-1.png"),this.load.image("story2-2","./assets/story2-2.png"),this.load.image("story3","./assets/story3.png"),this.load.image("teach","./assets/teach.jpg"),this.load.image("fireWork1","./assets/fireWork1.png"),this.load.image("fireWork2","./assets/fireWork2.png"),this.load.image("warning","./assets/warning.png"),this.load.image("menu_bg","./assets/menu/menu_bg.png"),this.load.image("cat1","./assets/menu/cat1.png"),this.load.image("cat2","./assets/menu/cat2.png"),this.load.spritesheet("menu_fish","./assets/menu/menu_fish.png",{frameWidth:650,frameHeight:600}),this.load.spritesheet("fin1","./assets/menu/fin1.png",{frameWidth:175,frameHeight:200}),this.load.spritesheet("fin2","./assets/menu/fin2.png",{frameWidth:235,frameHeight:220}),this.load.spritesheet("fin3","./assets/menu/fin3.png",{frameWidth:315,frameHeight:210}),this.load.spritesheet("fin4","./assets/menu/fin4.png",{frameWidth:370,frameHeight:265}),this.load.spritesheet("fin5","./assets/menu/fin5.png",{frameWidth:420,frameHeight:595}),this.load.image("tap","./assets/tap.png"),this.load.image("star","./assets/star.png"),this.load.image("heart","./assets/heart.png"),this.load.image("yellow","./assets/yellow.png"),this.load.image("bubble","./assets/bubble.png"),this.load.image("shelter","./assets/shelter.png"),this.load.spritesheet("fish","./assets/fish.png",{frameWidth:60,frameHeight:40}),this.load.spritesheet("prop","./assets/prop.png",{frameWidth:125,frameHeight:125}),this.load.spritesheet("wall","./assets/wall.png",{frameWidth:50,frameHeight:210}),this.load.spritesheet("border","./assets/border.png",{frameWidth:600,frameHeight:30}),this.load.image("costBanner","./assets/ban_cost.png"),this.load.image("freeBanner","./assets/ban_free.png"),this.load.image("tipsBanner","./assets/ban_tips.png"),this.load.image("propBanner","./assets/ban_prop.png"),this.load.image("scoreBanner","./assets/ban_score.png"),this.load.spritesheet("startBtn","./assets/startBtn.png",{frameWidth:155,frameHeight:80}),this.load.spritesheet("cancleBtn","./assets/cancleBtn.png",{frameWidth:155,frameHeight:80}),this.load.spritesheet("storeBtn","./assets/storeBtn.png",{frameWidth:155,frameHeight:80}),this.load.spritesheet("restartBtn","./assets/restartBtn.png",{frameWidth:155,frameHeight:80}),this.load.spritesheet("okBtn","./assets/okBtn.png",{frameWidth:155,frameHeight:80}),this.load.spritesheet("noBtn","./assets/noBtn.png",{frameWidth:155,frameHeight:80}),this.load.spritesheet("bagBtn","./assets/bagBtn.png",{frameWidth:155,frameHeight:80}),this.load.image("login","./assets/btn_login.png"),this.load.image("rank","./assets/btn_rank.png"),this.load.image("bag","./assets/btn_bag.png"),this.load.bitmapFont("BMFont","../Font/BMFont_White.png","../Font/BMFont_White.fnt"),this.load.audio("bgmSE","./assets/audio/bgm.mp3"),this.load.audio("waitingSE","./assets/audio/waiting.mp3"),this.load.audio("clickStartSE","./assets/audio/clickStart.mp3"),this.load.audio("clickSE","./assets/audio/click.mp3"),this.load.audio("jumpSE","./assets/audio/jump.mp3"),this.load.audio("safeSE","./assets/audio/safe.mp3"),this.load.audio("dangerSE","./assets/audio/danger.mp3"),this.load.audio("winSE","./assets/audio/win.mp3"),this.load.audio("failSE","./assets/audio/fail.mp3")}create(){this.scene.start("menu")}}function r(t,e,i){var s=t.sound.add(e,{volume:i});try{s.play()}catch(t){}}function h(t,e){return e.setFrame(1),r(t,"clickSE"),e.input.enabled=!1,t.tweens.add({targets:e,scale:{from:.8,to:1},duration:100,ease:"Bounce.Out",callbackScope:this,onComplete:function(){e.setFrame(0)}})}var n;class o extends Phaser.Scene{constructor(){super("teach")}init(){}create(){this.soundBgm=this.sound.add("bgmSE",{loop:-1}),this.soundBgm.play(),this.scene.bringToTop(),this.waitForStart=!1,this.story=[],this.addPage(game.config.height/2-480,"story1"),this.addPage(game.config.height/2,"story2-1").setVisible(!1),this.addPage(game.config.height/2,"story2-2").setVisible(!1),this.addPage(game.config.height/2+480,"story3").setVisible(!1),this.addPage(game.config.height/2,"teach").setVisible(!1).setDepth(1),this.fireWork1=this.add.sprite(game.config.width/2+230,150,"fireWork1").setBlendMode(Phaser.BlendModes.SCREEN),this.fireWork2=this.add.sprite(game.config.width/2+80,230,"fireWork2").setBlendMode(Phaser.BlendModes.SCREEN),this.tweens.add({targets:this.fireWork1,scale:{from:0,to:1},alpha:{from:0,to:1},angle:{from:0,to:30},duration:800}),this.tweens.add({targets:this.fireWork2,scale:{from:0,to:1},alpha:{from:0,to:1},angle:{from:0,to:-20},duration:1e3}),this.input.on("pointerdown",(function(){for(var t=0;t<this.story.length;t++){if(0==this.story[t].visible)return r(this,"clickSE"),void this.story[t].setVisible(!0);if(1==this.story[t].visible&&t==this.story.length-1){if(1==this.waitForStart)return;r(this,"clickStartSE"),this.waitForStart=!0,this.scene.start("play")}}}),this),this.skipBtn=this.add.sprite(game.config.width-150,game.config.height-75,"skip",0),this.skipBtn.setInteractive().on("pointerdown",(function(){h(this,this.skipBtn),this.time.addEvent({delay:200,callback:function(){this.skipBtn.destroy(),this.story[this.story.length-1].setVisible(!0)},callbackScope:this})}),this)}addPage(t,e){var i=this.add.sprite(game.config.width/2,t,e);return this.story.push(i),i}}class l extends Phaser.Scene{constructor(){super("menu")}init(){}create(){this.scene.bringToTop();var t=this.add.sprite(game.config.width/2,game.config.height/2,"menu_bg");t.setInteractive().on("pointerdown",(function(){r(this,"clickSE"),t.disableInteractive(),null==this.scene.manager.keys.teach&&this.scene.add("teach",o,!1),this.scene.start("teach")}),this);var e=this.add.sprite(game.config.width/2,-150,"logo");this.tweens.add({targets:e,y:200,duration:1e3,ease:"Bounce.Out"}),this.anims.create({key:"fishing",frames:this.anims.generateFrameNumbers("menu_fish",{start:0,end:5}),frameRate:5,repeat:-1}),this.anims.create({key:"fin1ing",frames:this.anims.generateFrameNumbers("fin1",{start:0,end:5}),frameRate:5,repeat:-1}),this.anims.create({key:"fin2ing",frames:this.anims.generateFrameNumbers("fin2",{start:0,end:5}),frameRate:5,repeat:-1}),this.anims.create({key:"fin3ing",frames:this.anims.generateFrameNumbers("fin3",{start:0,end:5}),frameRate:5,repeat:-1}),this.anims.create({key:"fin4ing",frames:this.anims.generateFrameNumbers("fin4",{start:0,end:5}),frameRate:5,repeat:-1}),this.anims.create({key:"fin5ing",frames:this.anims.generateFrameNumbers("fin5",{start:0,end:5}),frameRate:5,repeat:-1});var i=this.add.sprite(game.config.width/2-270,game.config.height/2+210,"fin1");i.play("fin1ing");var s=this.add.sprite(game.config.width/2,game.config.height/2+290,"fin3");s.play("fin3ing");var a=this.add.sprite(game.config.width/2+270,game.config.height/2-20,"fin5");a.play("fin5ing");var h=this.add.sprite(game.config.width/2+280,game.config.height/2+240,"fin4");h.play("fin4ing");var n=this.add.sprite(game.config.width/2+40,game.config.height/2-30,"menu_fish");n.play("fishing");var l=this.add.sprite(game.config.width/2+140,game.config.height/2+220,"fin2");l.play("fin2ing"),this.tweens.add({targets:[n,i,l,s,h,a],y:"-=10",duration:900,yoyo:!0,repeat:-1});var d=this.add.sprite(game.config.width/2-280,game.config.height/2-250,"cat1");this.tweens.add({targets:d,y:"-=60",duration:1600,yoyo:!0,repeat:-1});var g=this.add.sprite(game.config.width/2+270,game.config.height/2+400,"cat2");this.tweens.add({targets:g,y:"+=35",duration:1200,yoyo:!0,repeat:-1});var p=this.add.sprite(game.config.width/2,game.config.height-200,"press").setScale(1.2);this.tweens.add({targets:p,alpha:0,duration:600,yoyo:!0,repeat:-1,repeatDelay:800})}}var d,g,p,c,m=3,f=[10,20,30];class u extends Phaser.Scene{constructor(){super("play")}init(){this.gameIsStart=!1,m=3,n=0,"",d=0,g=0,0,0,this.totalCost=0,this.scoreInc=1}create(){this.scene.bringToTop(),this.background=this.add.sprite(0,0,"background").setOrigin(0);this.createBuyProp()}update(){this.gameIsStart&&(this.bg_water.tilePositionX+=1,null!=this.shelter&&this.shelter.setPosition(this.fish.x,this.fish.y),null!=this.propBar&&(this.propBar.clear(),this.propBar.fillStyle(16775900),this.propBar.fillRect(550,320,160-160*this.propTimer.getProgress(),8)),null!=this.tap&&0==this.tap.visible&&this.fish.setVelocity(this.fish.body.velocity.x>0?4.1:-4.1,this.fish.body.velocity.y))}createBuyProp(){this.bigCover=this.add.sprite(game.config.width/2,game.config.height/2,"cover").setScale(1.6),this.propContainer=this.add.container(game.config.width/2,game.config.height/2).setDepth(1),this.propBanner=this.add.sprite(0,0,"propBanner"),this.O2pointText=this.add.bitmapText(50,30,"BMFont",void 0,18),this.costText=this.add.bitmapText(50,95,"BMFont",this.totalCost,18);var t=this.add.sprite(0,210,"okBtn",0).setInteractive().on("pointerdown",(function(){if(this.costText.isTinted){var t=this.add.container(game.config.width/2-75,game.config.height/2+130).setDepth(1),e=this.add.graphics();e.fillStyle(0,.6),e.fillRoundedRect(0,0,150,50,10),t.add(e);var i=this.add.bitmapText(20,10,"BMFont","點數不足",16);t.add(i),this.tweens.add({targets:t,y:"-=80",alpha:0,duration:600})}else this.closeBuyProp()}),this);this.propContainer.add([this.propBanner,this.O2pointText,this.costText,t]);var e=[-175,0,175];this.propArray=[];for(var i=0;i<e.length;i++)this.addProp(e[i],-80,i);var s=new Phaser.Geom.Circle(0,0,63);this.particles=this.make.particles({key:"yellow",origin:{x:.5,y:.5},add:!0,emitters:[{name:f[0],x:e[0],y:-80,alpha:0,quantity:2,scale:{start:.15,end:.05},blendMode:"ADD",emitZone:{type:"edge",source:s,quantity:200}},{name:f[1],x:e[1],y:-80,alpha:0,quantity:2,scale:{start:.15,end:.05},blendMode:"ADD",emitZone:{type:"edge",source:s,quantity:200}},{name:f[2],x:e[2],y:-80,alpha:0,quantity:2,scale:{start:.15,end:.05},blendMode:"ADD",emitZone:{type:"edge",source:s,quantity:200}}]}),this.propContainer.add(this.particles)}addProp(t,e,i){var s=this.add.sprite(t,e,"prop",i).setName(i).setInteractive().on("pointerdown",(function(){var t=0==this.particles.emitters.list[s.name].alpha.propertyValue?parseInt(this.particles.emitters.list[s.name].name):-parseInt(this.particles.emitters.list[s.name].name);this.totalCost+=t,this.costText.setText(this.totalCost),this.particles.emitters.list[s.name].setAlpha(0==this.particles.emitters.list[s.name].alpha.propertyValue?1:0),this.totalCost>void 0?this.costText.setTint(16711680):this.costText.clearTint()}),this);this.propArray.push(s),this.propContainer.add(s)}closeBuyProp(){this.propChoosed=[];for(var t=0;t<this.propArray.length;t++){var e=0!=this.particles.emitters.list[t].alpha.propertyValue;this.propChoosed.push(e),1==this.propChoosed[t]&&1}this.propContainer.destroy(),this.bigCover.destroy(),this.gameBoot()}gameBoot(){this.background.setInteractive().on("pointerdown",(function(){this.background.disableInteractive(),this.tap.setVisible(!1),this.cameras.main.zoomTo(1.6,400).on("camerazoomcomplete",(function(t){this.countDown()}),this)}),this),this.bg_water=this.add.tileSprite(game.config.width/2,game.config.height/2,600,900,"bg_water"),this.scoreText=this.add.bitmapText(game.config.width/2,400,"BMFont","0",40).setOrigin(.5).setAlpha(.8),this.tap=this.add.sprite(game.config.width/2,game.config.height/2+80,"tap"),this.anims.create({key:"swimming",frames:this.anims.generateFrameNumbers("fish",{start:0,end:1}),frameRate:6,repeat:-1}),this.fish=this.matter.add.sprite(310,550,"fish").setName("fish").setFixedRotation().setIgnoreGravity(!0),this.createWall(),this.createStar(),this.propSetting(),this.matter.world.on("collisionstart",(function(t,e,i){"leftWall"!=e.label&&"leftWall"!=i.label||this.handleWallCollision("leftWall",e,i),"rightWall"!=e.label&&"rightWall"!=i.label||this.handleWallCollision("rightWall",e,i),"topWall"!=e.label&&"topWall"!=i.label||this.handleWallCollision("topWall",e,i),"downWall"!=e.label&&"downWall"!=i.label||this.handleWallCollision("downWall",e,i),"star"!=e.label&&"star"!=i.label||(this.updateScore(),this.placestar())}),this)}countDown(){this.cover=this.add.sprite(game.config.width/2,game.config.height/2,"cover"),this.anims.create({key:"waiting",frames:this.anims.generateFrameNumbers("waiting",{start:0,end:59}),duration:3e3,hideOnComplete:!0}),r(this,"waitingSE",1),this.add.sprite(game.config.width/2,game.config.height/2,"waiting").anims.play("waiting"),this.time.addEvent({delay:1e3,callback:function(){0==--m&&(this.gameStart(),this.cover.destroy(!0))},callbackScope:this,repeat:3})}gameStart(){this.gameIsStart=!0,this.bg_water.setInteractive(),this.bg_water.on("pointerdown",(function(){this.jump()}),this),this.fish.play("swimming"),this.fish.setVelocity(4.1,0),this.fish.setIgnoreGravity(!1),null!=this.propTimer&&(this.propTimer.paused=!1),null!=this.shelterTimer&&(this.shelterTimer.paused=!1)}createWall(){this.leftWalls=[],this.rightWalls=[];for(var t=0;t<4;t++)this.leftWalls[t]=this.addSideWall(t,"leftWall"),this.rightWalls[t]=this.addSideWall(t,"rightWall");this.addTopDownWall("topWall"),this.addTopDownWall("downWall")}createStar(){this.star=this.matter.add.image(0,0,"star"),this.star.setCircle(),this.star.setStatic(!0),this.star.body.isSensor=!0,this.star.body.label="star",this.placestar()}addTopDownWall(t){var e="topWall"==t?270:1140,i="topWall"==t?0:1,s=this.matter.add.image(180,e,"border",i);s.setName("danger"),s.setStatic(!0),s.body.label=t,s.setPosition(s.body.position.x+s.body.centerOffset.x,s.body.position.y+s.body.centerOffset.y)}addSideWall(t,e){var i=this.textures.get("wall"),s="leftWall"!=e,a="leftWall"==e?game.config.width/2-250:game.config.width/2+250,r=300+t*i.frames[0].height,h=this.matter.add.image(a,r,"wall");return h.setName("safe"),h.setFlipX(s),h.setStatic(!0),h.body.label=e,"leftWall"==e?h.setPosition(h.body.position.x-h.body.centerOffset.x,h.body.position.y+h.body.centerOffset.y):h.setPosition(h.body.position.x+h.body.centerOffset.x,h.body.position.y+h.body.centerOffset.y),h}propSetting(){1==this.propChoosed[0]&&(this.scoreInc=2,this.propIcon=this.add.graphics(),this.propIcon.lineStyle(2,16775900,1),this.propIcon.strokeCircle(520,325,15),this.buffRateText=this.add.text(520,325,"x2",{font:"14px ",color:"#FFFADC",strokeThickness:1}),this.buffRateText.setOrigin(.5),this.propBar=this.add.graphics(),this.propBar.fillStyle(16775900,1),this.propBar.fillRect(550,320,160,8),this.propTimer=this.time.addEvent({delay:1e4,paused:!0,callbackScope:this,callback:function(){this.scoreInc=1,this.propIcon.destroy(),this.buffRateText.destroy()}})),1==this.propChoosed[1]&&(this.shelter=this.add.sprite(this.fish.x,this.fish.y,"shelter"),this.shelterTimer=this.time.addEvent({delay:8e3,paused:!0,callbackScope:this,callback:function(){null!=this.shelter&&(this.shelter.destroy(),this.shelter=void 0)}})),1==this.propChoosed[2]?this.createLive(4):this.createLive(3)}createLive(t){this.liveArray=[];for(var e=0;e<t;e++){var i=this.add.sprite(260+40*e,330,"heart").setName("heart"+e);this.liveArray.push(i)}}placestar(){this.star.x=Phaser.Math.Between(game.config.width/2-220,game.config.width/2+220),this.star.y=Phaser.Math.Between(game.config.height/2-350,game.config.height/2+350)}handleWallCollision(t,e,i){"danger"==e.gameObject.name||"danger"==i.gameObject.name?(r(this,"dangerSE"),null!=this.shelter?this.hurtWithShelter(t):"topWall"==t||"downWall"==t?this.hurt("y"):"leftWall"!=t&&"rightWall"!=t||this.hurt("x")):(r(this,"safeSE"),this.updateScore(),this.fish.setVelocityX("leftWall"==t?4.1:-4.1),this.fish.setVelocityY(this.fish.body.velocity.y),this.fish.setFlipX("leftWall"!=t),this.paintWalls("leftWall"==t?this.rightWalls:this.leftWalls))}paintWalls(t){t.forEach((function(t){var e=Phaser.Math.Between(1,3);t.setFrame(e),t.setName("danger")}));for(var e=Phaser.Math.Between(1,2),i=0;i<e;i++){var s=Phaser.Math.RND.pick(t);s.setFrame(0),s.setName("safe")}}jump(){r(this,"jumpSE",.4),this.fish.setVelocity(this.fish.body.velocity.x>0?4.1:-4.1,-16),this.add.particles("bubble").createEmitter({speed:50,gravityY:-300,lifespan:4e3,maxParticles:8,scale:{start:.1,end:.5},follow:this.fish,followOffset:{x:55,y:-10}})}hurtWithShelter(t){var e=this.add.sprite(game.config.width/2,game.config.height/2,"warning");this.tweens.add({targets:e,alpha:0,duration:500}),this.shelter.destroy(),this.shelter=void 0,"topWall"==t||"downWall"==t?this.fish.setVelocityY("topWall"==t?0:-16):"leftWall"!=t&&"rightWall"!=t||(this.fish.setVelocityX("leftWall"==t?4.1:-4.1),this.fish.setVelocityY(this.fish.body.velocity.y),this.fish.setFlipX("leftWall"!=t)),this.paintWalls(0==this.fish.flipX?this.rightWalls:this.leftWalls)}hurt(t){var e=this.add.sprite(game.config.width/2,game.config.height/2,"warning");this.tweens.add({targets:e,alpha:0,duration:500}),this.liveArray.pop().setTint(0),this.liveArray.length<=0?(this.fish.destroy(),this.gameOver()):(this.resetFish(t),this.resetWall(this.leftWalls),this.resetWall(this.rightWalls))}resetFish(t){this.bg_water.disableInteractive(),this.gameIsStart&&(this.placestar(),this.fish.setPosition(310,550).setFlipX(!1).setIgnoreGravity(!0),"x"==t?this.fish.setVelocityX(this.fish.body.velocity.x):this.fish.setVelocityX(0),"y"==t?this.fish.setVelocityY(this.fish.body.velocity.y):this.fish.setVelocityY(0),this.tap.setVisible(!0),this.time.addEvent({delay:1e3,callbackScope:this,callback:function(){this.bg_water.setInteractive(),this.bg_water.on("pointerdown",(function(){1==this.tap.visible&&(this.fish.setMass(.5),this.fish.setDensity(.001),this.fish.setVelocity(4.1,0),this.fish.setIgnoreGravity(!1),this.tap.setVisible(!1))}),this)}},this))}resetWall(t){t.forEach((function(t){t.setFrame(0),t.setName("safe")}))}updateScore(){n+=this.scoreInc,this.scoreText.setText(n),1==this.scoreInc?d+=1:d+=2}gameOver(){this.gameIsStart=!1;for(var t=0;t<game.sound.sounds.length;t++)(game.sound.sounds[t].key="bgmSE")&&this.tweens.add({targets:game.sound.sounds[t],volume:0,duration:2e3});this.cover=this.add.sprite(game.config.width/2,game.config.height/2,"cover"),this.bg_water.disableInteractive();var e=1..toString().padStart(3,"0"),i=2..toString().padStart(3,"0"),s=d.toString().padStart(3,"0"),a=g.toString().padStart(3,"0");e+s+e+a+i,this.time.addEvent({delay:1200,callback:function(){this.scene.start("over")},callbackScope:this}),this.time.addEvent({delay:500,callback:function(){this.anims.create({key:"saving",frames:this.anims.generateFrameNumbers("saving",{start:0,end:9}),frameRate:6,repeat:-1});var t=this.add.sprite(game.config.width/2,game.config.height/2,"saving");t.setScale(.5),t.anims.play("saving")},callbackScope:this})}}class y extends Phaser.Scene{constructor(){super("over")}init(){}create(){this.scene.bringToTop(),this.add.sprite(game.config.width/2,game.config.height/2,"background");this.add.sprite(game.config.width/2,game.config.height/2,"cover").setScale(1.6),this.scorebannerGroup=this.add.group();var t=this.add.sprite(game.config.width/2-170,game.config.height/2+120,"stamp");t.alpha=0,t.depth=5,this.anims.create({key:"stamping",frames:this.anims.generateFrameNumbers("stamp",{start:0,end:8}),frameRate:12}),this.scorebannerGroup.create(game.config.width/2,game.config.height/2,"scoreBanner"),this.add.bitmapText(game.config.width/2,game.config.height/2,"BMFont",n,42).setOrigin(.5),(p=this.scorebannerGroup.create(game.config.width/2-125,game.config.height/2+200,"cancleBtn",0)).setInteractive().on("pointerdown",(function(){c.input.enabled=!1,h(this,p),setTimeout((function(){window.history.back()}),200)}),this),(c=this.scorebannerGroup.create(game.config.width/2+120,game.config.height/2+200,"restartBtn",0)).setInteractive().on("pointerdown",(function(){t.alpha=0,p.input.enabled=!1,h(this,c),this.time.addEvent({delay:400,callback:function(){this.scene.start("menu")},callbackScope:this})}),this)}}class b extends Phaser.Game{constructor(){super({type:Phaser.AUTO,parent:"game",width:960,height:1440,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"matter",matter:{gravity:{x:0,y:2.7}}}}),this.scene.add("boot",s,!1),this.scene.add("load",a,!1),this.scene.add("menu",l,!1),this.scene.add("play",u,!1),this.scene.add("over",y,!1),this.scene.start("boot")}}window.game=new b}]);